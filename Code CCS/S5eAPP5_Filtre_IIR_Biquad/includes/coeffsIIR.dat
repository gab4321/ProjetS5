/* coeffsIIR.dat */
/*
  Créateur:    
  Date:        
  Revisions:   

  DESCRIPTION : 
     Information pour le fonctionnement du filtre IIR biquad
*/	
#ifndef COEFFSIIR_H_
#define COEFFSIIR_H_

#define IIR_NB_COEFFS 6			// Nombre total de coeffcients a & b (b0 b1 b2 a0 a1 a2)
#define IIR_NB_FILTRES 6		// Nombre de filtres
#define IIR_NB_SECTIONS_MAX 2	// nb de sections d'ordre 2 du plus gros filtre

/* Coefficients a et b des filtres IIR d'ordre 2
   ordre : b0 b1 b2 a0 a1 a2
   format : 2Q13 */
const float IIR_COEFFS[][IIR_NB_COEFFS] = {
// 1er filtre (ordre 4, ripple de 3dB, fc = 1.5 x 82.407Hz, fe = 8000 Hz)
        {0.25389,-0.50778,0.25389,1,-1.0589,0.40829},
		{5.9615,-11.923,5.9615,1,-1.751,0.89735},
// 2e filtre
        {0.12328,0.24657,0.12328,1,-1.3669,0.54336},
        {0.29685,0.59371,0.29685,1,-1.1696,0.80657},
// 3e filtre
        {47,93,47,8192,-15774,7629},
        {2061,4121,2060,8192,-15929,7955},
// 4e filtre
        {82,165,82,8192,-15558,7448},
        {2068,4136,2068,8192,-15685,7878},
// 5e filtre
        {129,258,129,8192,-15327,7265},
        {2085,4169,2084,8192,-15384,7801},
// 6e filtre
        {224,448,224,8192,-14939,6975},
        {2115,4230,2115,8192,-14799,7678},
	// À COMPLÉTER (NOTE : RESPECTEZ LE FORMAT 2Q13 ET METTRE LES VALEURS EN DÉCIMALE)
        };

/* Numéro de ligne de COEFFS_F correspondant à la première section d'ordre 2
   pour chacun des filtres */
const short IIR_NO_LIGNE[IIR_NB_FILTRES] = {0, 2, 4, 6, 8, 10};

// Gain global de chacun des filtres (format : 2Q13)
const float IIR_GAINS[IIR_NB_FILTRES] = {0.33127, 0.17103, 38, 68, 106, 187}; // À COMPLÉTER

// Nombre de filtre d'ordre 2 pour chacune des 6 cascades de filtre
const short IIR_NB_ORDRE2[IIR_NB_FILTRES] = {2,2,2,2,2,2};

// Variables intermédiaires
#pragma DATA_ALIGN(IIR_W1, 4);   // Alignement (int possède  octets)
#pragma DATA_ALIGN(IIR_W2, 4);   // Alignement (int possède  octets)
float IIR_W1[IIR_NB_SECTIONS_MAX][3] = {0,0,0}; 
float IIR_W2[IIR_NB_SECTIONS_MAX][3] = {0,0,0}; 

#endif /* COEFFSIIR_H */
